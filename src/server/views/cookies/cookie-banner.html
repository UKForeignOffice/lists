<div id="cookie-banner-container" role="region" aria-label="Cookies on {{SERVICE_NAME}}">
  <div class="govuk-cookie-banner">
    <div class="govuk-cookie-banner__message govuk-width-container">

      <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
          <h2 class="govuk-cookie-banner__heading govuk-heading-m">Cookies on {{SERVICE_NAME}}</h2>

          <div class="govuk-cookie-banner__content">
            <p>We use some essential cookies to make this service work.</p>
            <p>Weâ€™d also like to use analytics cookies so we can understand how you use the service and make improvements.</p>
          </div>
        </div>
      </div>

      <div class="govuk-button-group">
        <button value="accept" type="button" name="cookies" class="govuk-button" onclick="acceptAnalyticsCookies()">
          Accept analytics cookies
        </button>
        <button value="reject" type="button" name="cookies" class="govuk-button" onclick="rejectAnalyticsCookies()">
          Reject analytics cookies
        </button>
        <a class="govuk-link" href="/help/cookies">View cookies</a>
      </div>
    </div>
  </div>
  <div class="govuk-cookie-banner no-js">
    <div class="govuk-cookie-banner__message govuk-width-container">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
          <h2 class="govuk-cookie-banner__heading govuk-heading-m">Cookies on {{SERVICE_NAME}}</h2>

          <div class="govuk-cookie-banner__content">
            <p class="govuk-body">We use cookies to make this service work and collect analytics information. To accept or reject cookies, please visit our <a class="govuk-link" href="/help/cookies">cookies page</a>.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script nonce="{{cspNonce}}">
  function toggleAnalyticsCookies(isOn) {
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "/help/cookies", true);
    xhr.setRequestHeader('Content-Type', 'application/json');
    xhr.send(JSON.stringify({
        analytics: isOn ? "on" : "off"
    }));
  }

  function removeCookieBanner() {
    var banner = document.querySelector(".govuk-cookie-banner");
    banner.style.display = 'none';
  }

  function acceptAnalyticsCookies() {
    toggleAnalyticsCookies(true);
    removeCookieBanner();
  }

  function rejectAnalyticsCookies() {
    toggleAnalyticsCookies(false);
    removeCookieBanner();
  }
</script>