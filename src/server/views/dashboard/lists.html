{% extends "./dashboard.html" %}

{% block dashboard %}
  {% if req.user.isSuperAdmin() or req.user.isTeamAdmin() %}
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-quarter">
        <p><a href="{{ dashboardRoutes.listsEdit.replace(':listId', 'new') }}" class="govuk-link">Create New List</a></p>
      </div>
    </div>
  {% endif %}
  
  <table class="govuk-table">
    <caption class="govuk-table__caption govuk-table__caption--l">
      Lists
    </caption>
    <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th scope="col" class="govuk-table__header">Service Type</th>
        <th scope="col" class="govuk-table__header">Country</th>
        <th scope="col" class="govuk-table__header govuk-table__header--numeric"></th>
      </tr>
    </thead>
    <tbody class="govuk-table__body">
      {% for list in lists %}
        <tr class="govuk-table__row">
          <th scope="row" class="govuk-table__header">{{ list.type }}</th>
          <td class="govuk-table__cell">{{ list.jsonData.country }}</td>
          <td class="govuk-table__cell govuk-table__cell--numeric">
            <a href="{{ req.path}}?userEmail={{user.email}}" class="govuk-link">Edit</a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}