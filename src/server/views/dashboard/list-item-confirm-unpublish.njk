{% from "button/macro.njk" import govukButton %}
{% extends "./dashboard.njk" %}

{% block aside %}
{% endblock %}

{% block dashboard %}

  <form class="form" action="{{ dashboardRoutes.listsItemPublish.replace(':listId', list.id).replace(':listItemId', listItem.id) }}" method="post" required>
    <input type="hidden" name="_csrf" id="_csrf" value="{{ csrfToken }}" />
    <input type="hidden" name="action" value="unpublish"/>

    <h1 class="govuk-heading-l">
      Unpublish this service provider
    </h1>

    <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

    <h2 class="govuk-heading-m">You are about to unpublish this information from the live list</h2>

    <p class="govuk-body">The list entry will be removed from the live list and you will be able to:
      <ul class="govuk-list">
        <li class="govuk-list--bullet">request that the service provider makes changes and publish it again</li>
        <li class="govuk-list--bullet">remove the list entry from the database.</li>
      </ul>
    </p>

    <div class="govuk-button-group">

      {{ govukButton({
        text: "Unpublish",
        classes: "govuk-button--ok govuk-!-margin-bottom-2",
        attributes: {
          id: ["action-button-", listItem.id] | join,
          "data-title": _.startCase(titleProperty),
          "data-id": listItem.id
        }
      }) }}

      <a class="govuk-button govuk-button--secondary govuk-!-margin-bottom-2" href="{{ dashboardRoutes.listsItem.replace(':listId', list.id).replace(':listItemId', listItem.id) }}">Cancel</a>
    </div>

  </form>

{% endblock %}
