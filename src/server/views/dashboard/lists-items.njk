{% extends "./dashboard.njk" %}
{% import "../lists/partials/covid-test-providers/macros.njk" as covidTestProvidersMacros %}
{% import "../lists/partials/lawyers/macros.njk" as lawyersMacros %}
{% import "./macros.njk" as dashboardMacros %}


{% block dashboard %}
  <h1 class="govuk-heading-l">
    {{ _.startCase(list.type) }} {{ 'in' if list.country.name }} {{ _.startCase(list.country.name) }}
  </h1>

  <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

  <p class="govuk-body">
    Send this link to organisations or individuals so they can apply to be added to the list<br/>
    <a class="govuk-link" target="_blank" rel="noopener noreferrer" href="http{{ 's' if SERVICE_DOMAIN.indexOf('localhost') === -1 }}://{{SERVICE_DOMAIN}}/application/{{_.kebabCase(list.type)}}">
      http{{ 's' if SERVICE_DOMAIN.indexOf('localhost') === -1 }}://{{SERVICE_DOMAIN}}/application/{{_.kebabCase(list.type)}}
    </a>
  </p>

  <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

  {% if list.items.length === 0 %}
    <p class="govuk-body">This list is empty</p>
  {% else %}
    <input type="hidden" name="_csrf" id="_csrf" value="{{ csrfToken }}" />
    <ul class="govuk-list dashboard__content-list">
      {% for listItem in list.items %}
        {% include "./partials/list-item-summary.njk" %}
      {% endfor %}
    </ul>
    {{ pagination }}
    {{ dashboardMacros.paginationSection(list.pagination) }}
  {% endif %}

{% endblock %}
