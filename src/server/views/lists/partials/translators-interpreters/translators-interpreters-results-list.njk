{% import "./macros.njk" as macros %}
{% import "../macros.njk" as partialsMacros %}

{% set regionIsSet %}
  {% if region and region !== "Not set" %}
    yes
  {% else %}
    no
  {% endif %}
{% endset %}
{% if searchResults.length === 0 %}
  <p class="govuk-body">We couldn’t find any results that match your search terms. Try changing these to search again.</p>
{% else %}
  <h2 class="govuk-heading-l govuk-!-margin-bottom-4">{{resultsTitle}}</h2>
  <p class="govuk-body">You should carry out your own research before choosing a service provider.</p>

  <div class="govuk-warning-text">
    <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
    <strong class="govuk-warning-text__text">
      <span class="govuk-warning-text__assistive">Warning</span>
      {% if hasSworn.translatorsAndInterpreters or (hasSworn.interpreters and hasSworn.translators) %}
        In {{ country }}, translators and interpreters must be authorised to carry out legal or official services.
        <p>These are known as ‘sworn’, ‘certified’ or ‘court’ translators or interpreters and are listed in the results as providing official services.</p>
      {% elif hasSworn.interpreters %}
        In {{ country }}, interpreters must be authorised to carry out legal or official services.
        <p>These are known as ‘sworn’, ‘certified’ or ‘court’ interpreters and are listed in the results as providing official services.</p>
      {% elif hasSworn.translators %}
        In {{ country }}, translators must be authorised to carry out legal or official services.
        <p>These translators are known as ‘sworn’ or ‘certified’ translators and are listed in the results as providing official services.</p>
      {% else %}
        Translators and interpreters must be authorised to operate in some countries (known as sworn translators).
        Check providers are qualified to carry out the service you need in the country you have selected.
      {% endif %}
    </strong>
  </div>

{% if (print !== "yes") %}
  <p class="govuk-body">Give <a class="govuk-link" href="{{ listsRoutes.finder }}?serviceType={{ getParameterValue("serviceType", queryString) }}#feedback-heading">feedback</a> on individual service providers.</p>
{% endif %}
{% if (print === "yes") %}
{% include 'includes/disclaimer.njk' %}
{% endif %}
  <p class="govuk-body">
    Results are listed
    {% if region and region !== "Not set" %}
      by closest to the centre of <span class="govuk-!-font-weight-bold">{{ _.upperFirst(region) }}</span>.
    {% else %}
      alphabetically.
    {% endif %}
  </p>

  <ul class="govuk-list">
    {% for item in searchResults %}
      <li>
        {{ macros.translatorInterpretersListItem(item) }}
        <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
      </li>
    {% endfor %}
  </ul>

  {% if not (print === "yes") %}
    {{ macros.paginationSection(pagination) }}
  {% endif %}
{% endif %}
