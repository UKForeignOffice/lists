{% import "./macros.njk" as macros %}
<div class="answers-box">
  <p class="govuk-body">Your answers:</p>
   {% if not answers | length %}
    <p class="govuk-body">Your answers will appear here</p>
   {% endif %}

  {% set region = answers.region if answers.region else "Not supplied" %}
  {% if answers.region or answers.region === "" or isResultsPage %}
  {% set returnParam = "{{ returnParam }}" if isAnswersPage else "" %}
    <p class="govuk-body">
      Location<br />
      <strong>{{ _.upperFirst(answers.region) if answers.region else "Not supplied" }}</strong>{% if print !== "yes" %}
      <a class="govuk-link noprint" href="/find/{{ serviceType }}/{{ answers.country }}/region{{ returnParam }}" aria-label="Change country's area answer">
        Change
      </a>
      {% endif %}
    </p>
  {% endif %}

  {{ answers | dump }}
  {% if answers.country or isResultsPage %}
    {% set countryAnswer = answers.country %}
    <p class="govuk-body">
      Country<br />
      <strong>{{ countryAnswer }}</strong>{% if print !== "yes" %}
      <a class="govuk-link noprint" href="/find/{{ serviceType }}/country{{ returnParam }}" aria-label="Change country answer">Change</a>{% endif %}
    </p>
  {% endif %}
  {% if serviceType === 'lawyers' %}
    {% if answers.practiceAreas or isResultsPage %}
      <p class="govuk-body">
        Areas of law<br />
        <strong>{{ _.split(answers.practiceAreas, ",").map(_.startCase).join(", ") }}</strong>{% if print !== "yes" %}
        <a class="govuk-link noprint" href="/find/{{ serviceType }}/{{ answers.country }}/practice-areas{{ returnParam }}" aria-label="Change area of law answer">Change</a>{% endif %}
      </p>
    {% endif %}
  {% endif %}
  {% if serviceType === 'funeral-directors' %}

    {% if answers.repatriation or isResultsPage %}

      <p class="govuk-body">
        Repatriation needed<br />
        <strong>
          {{ _.startCase("Yes" if answers.repatriation else "No") }}
        </strong>
        {% if print !== "yes" %}
          <a
            class="govuk-link noprint"
            href="/find/{{ serviceType }}/repatriation{{ returnParam }}"
            aria-label="Change repatriation answer"
          >Change</a>
        {% endif %}
      </p>
    {% endif %}
    {% if answers.insurance or isResultsPage %}
      <p class="govuk-body">
        Has insurance<br />
        <strong> {{ _.startCase("Yes" if answers.insurance else "No") }} </strong>
        {% if print !== "yes" %}
          <a class="govuk-link noprint" href="/find/{{ serviceType }}/insurance{{ returnParam }}" aria-label="Change has insurance answer">Change</a>
        {% endif %}
      </p>
    {% endif %}
  {% endif %}

{% if serviceType === 'translators-interpreters' %}
  {% if answers.services or isResultsPage %}
    <p class="govuk-body">
      Services needed<br />
      <strong>{{ answers.services.join(", ") }}</strong>{% if print !== "yes" %}
      <a class="govuk-link noprint" href="/find/{{ serviceType }}/{{ urlSafeCountry }}/services{{ returnParam }}" aria-label="Change what services do you need answer">Change</a>{% endif %}
    </p>
  {% endif %}
  {% if answers.languages or isResultsPage %}
    <p class="govuk-body">
      Languages needed<br />
      <strong>{{ answers.languagesReadable.join(", ") }}</strong>{% if print !== "yes" %}
      <a class="govuk-link noprint" href="/find/{{ serviceType }}/{{ urlSafeCountry }}/languages{{ returnParam }}" aria-label="Change has insurance answer">Change</a>{% endif %}
    </p>
  {% endif %}
  {% if answers.translationTypes or isResultsPage %}
    <p class="govuk-body">
      Translation types<br />
      <strong>{{ answers.translationTypes.join(", ") }}</strong>{% if print !== "yes" %}
      <a class="govuk-link noprint" href="/find/{{ serviceType }}/{{ urlSafeCountry }}/types#translation{{ returnParam }}" aria-label="Change what types of translating services do you need answer">Change</a>{% endif %}
    </p>
  {% endif %}
  {% if answers.interpretationTypes or isResultsPage %}
    <p class="govuk-body">
      Interpretation types<br />
      <strong>{{ answers.interpretationTypes.join(", ") }}</strong>{% if print !== "yes" %}
      <a class="govuk-link noprint" href="/find/{{ serviceType }}/{{ urlSafeCountry }}/types#interpretation{{ returnParam }}" aria-label="Change what types of interpreting services do you need answer">Change</a>{% endif %}
    </p>
  {% endif %}
{% endif %}
  {% if print !== "yes" and country %}
    <p class="govuk-body noprint">
        <a
          class="govuk-link"
          href="/find/{{ serviceType }}?restart=yes"
          aria-label="Start again"
        >Start again</a>
    </p>
    {% if searchResults.length > 0 %}
      <p class="govuk-body noprint">
        <a
          class="govuk-link"
          href="?print=yes"
          aria-label="Print all results (opens in new tab)"
          rel="noreferrer noopener"
          target="_blank"
        >Print all results  (opens in new tab)</a>
      </p>
    {% endif %}
  {% endif %}
</div>
